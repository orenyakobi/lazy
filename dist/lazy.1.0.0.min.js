/*! Lazy.JS - v1.0.1 - 2014-07-01
* Lightweight lazy loader for JS, CSS & LESS assets.
* http://orenyakobi.github.io/lazy
*
* Copyright (c) 2014 Oren yakobi <orenykb@gmail.com>;
* Licensed under the MIT license */
var lazy=function(){"use strict";var a={};return{load:function(b,c){var d=function(a){return function(){for(var d=0,e=b.length;d<e;d++)b[d]===a&&b.splice(d>0?d--:d,1);b.length||c()}},e=function(a){var b={};return b.ext=f(a),!!b.ext&&(b.path=a.split(/\#|\?/)[0],b)},f=function(a){var b=a.split(/\#|\?/)[0].split(".").pop();return/^\w+$/.test(b)?b:(h("File extension is not specified ( "+a+" )"),!1)},g=function(a){switch(a.ext){case"css":var b=document.createElement("link");return b.href=a.path,b.rel="stylesheet",b;case"js":var b=document.createElement("script");return b.src=a.path,b.type="text/javascript",b;case"less":var b=document.createElement("style");return b.id="lazyStyle",b;default:return h("Unsupported file extension ( "+a.ext+" )"),!1}},h=function(a){console.log("~ Lazy Error: "+a)},i=function(){if(window.XMLHttpRequest)var a=new XMLHttpRequest;else if(window.ActiveXObject)var a=new ActiveXObject("Microsoft.XMLHTTP");return null===a&&h("Your browser does not support XMLHTTP"),a},j=function(b,c){for(var d=b.split(","),f=0,g=d.length;f<g;f++)if("undefined"==typeof a[d[f]]){var h=e(d[f]);if(!h)break;k(h,c)}},k=function(b,c){if(a[b.path]=1,"less"===b.ext)l(b,c);else{var d=g(b),e=!1,f=document.getElementsByTagName("head")[0];if(d)if(f.appendChild(d),"css"===b.ext){var h=document.createElement("img");h.onerror=function(){"undefined"!=typeof c&&c()},h.src="#"}else d.onload=d.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,d.onload=d.onreadystatechange=null,f&&d.parentNode&&f.removeChild(d),"undefined"!=typeof c&&c())}}},l=function(b,c){if("undefined"!=typeof less){a[b.path]=1;var d=i();d.onreadystatechange=function(){if(4===d.readyState){var a=new less.Parser;a.parse(d.responseText,function(a,c){var d=c.toCSS();if(!document.getElementById("lazyStyle")){var e=g(b);document.getElementsByTagName("head")[0].appendChild(e)}document.getElementById("lazyStyle").innerHTML=document.getElementById("lazyStyle").innerHTML+d}),"undefined"!=typeof c&&c()}},d.open("GET",b.path,!0),d.send(null)}else h("Can't load .less file, less.js is missing")};b=b instanceof Array?b:[b];for(var m=0,n=b.length;m<n;m++){var o=b[m].replace(/\s+/g,"");o.lastIndexOf("<")>2?!function(){var a=b[m],c=o.split("<");return function b(){c.length?j(c.pop(),b):d(a)()}()}():j(o,d(b[m]))}}}}();